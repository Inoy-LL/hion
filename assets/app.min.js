(function(){var A,B,C,D,E,F,t,u,g,G,H,q,m,I,d,z,w,K={}.hasOwnProperty,L=function(a,b){function c(){this.constructor=a}for(var f in b)K.call(b,f)&&(a[f]=b[f]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a};E="#090";F="#009";A="#040";B="#004";t=6.5;u=5;D=36;C=24;g={color:{vars:"blue",events:"#F00",new_var:"#3399FF",new_event:"#FF6600",random:!0},glow:{enable:!0,color:"#0F0",width:5,opacity:0.5},size:2,active_size:4,opacity:0.7,new_link_opacity:1,min_random_color:7829367,
path:function(a,b,c,f,r){var s,e,l,h;e=c-a;h=f-b;s=Math.abs(e)/2;l=Math.abs(h)/2;return 2===r?a>c?"M"+a+","+b+" "+(a+s)+","+b+" "+(a+s)+","+(b+h/2)+" "+(a+e-s)+","+(b+h/2)+" "+(c-s)+","+f+" L"+c+","+f:"M"+a+","+b+" "+(a+s)+","+b+" "+(c-s)+","+f+" L"+c+","+f:f>b?"M"+a+","+b+" "+a+","+(b-l)+" "+(a+e/2)+","+(b-l)+" "+(a+e/2)+","+(f+h/2)+" "+c+","+(f+l)+" L"+c+","+f:"M"+a+","+b+" "+a+","+(b-l)+" "+c+","+(f+l)+" L"+c+","+f}};d=function(){function a(){}var b,c;a.create_line=!1;a.selected_element=null;a.links=
{};c=null;a.elements={};a.get=function(){return null!=c?c:c=new b};a.getPaper=function(){return this.get().getPaper()};b=function(){function f(){this.paper=m.prototype.create()}f.prototype.paper=null;f.prototype.getPaper=function(){return this.paper};return f}();a.addElement=function(f,b,c,e,a){f=new G(f,b,c,e,a);this.elements[f.id]=f;this.links[f.id]=f.links;return f};a.clear=function(){this.create_line=!1;this.links={};return this.getPaper().clear()};a.parse=function(f){var b,c,e,a,h,k,d,g,p,n;
e=[];for(a in f)if(k||n||"Make"!==f.substr(a,4)?d&&!n&&"("===f[a]?d=a:!k&&(d&&")"===f[a])&&(k=f.substr(d,a-d).substr(1)):d=!0,!n&&"Add"===f.substr(a,3))n=!0;else if(n&&!b&&!c&&"("===f[a])c=a;else if(n&&!b&&c&&")"===f[a])b=f.substr(c,a-c).substr(1);else if(n&&b&&"{"===f[a])g=a;else if(n&&b&&'"'===f[a])p=!p;else if(n&&b&&!p&&"}"===f[a]){p=f.substr(g,a-g).substr(1).split("\n");c=[];for(h in p)""!==p[h].trim("   \t\r")&&(g=p[h].trim("   \t\r").split("=",2),c.push({name:g[0],value:g[1]}));n=b.split(",");
g=n[0];b=n[1];p=n[2];n=n[3];e.push({name:g,id:b,x:p,y:n,params:c});g=c=b=p=n=!1}return e};a.load=function(b){var c,a,e,d,h,k,g,J,p,n,q,w,v,t,u;u=this.parse(b);v=0;for(t=u.length;v<t;v++)b=u[v],"HubEx"!==b.name&&this.addElement(b.name,b.id,b.x,b.y,b.params);b=[];for(e in this.links)a=this.links[e],b.push(function(){var b,f,u,t,x,y,v;v=[];b=0;for(u=a.length;b<u;b++){h=a[b];x=this.elements[e].dots;f=0;for(t=x.length;f<t;f++)c=x[f],c.name===h.start&&(y=m.prototype.getDotPosition(c),g=y[0],J=y[1],k=c);
p=h.stop;if(this.elements[p[0]])for(x=this.elements[p[0]].dots,f=0,t=x.length;f<t;f++)c=x[f],c.name===p[1]&&(y=m.prototype.getDotPosition(c),q=y[0],w=y[1],n=c);d=m.prototype.drawLink(h.start,g,J,q,w,this.elements[e],this.elements[p[0]]);d.dot1=k;d.dot2=n;k.link=d;v.push(n.link=d)}return v}.call(this));return b};return a}();G=function(){function a(b,c,f,a,d){var e,l,h,k;this.name=b;this.id=c;this.x=f;this.y=a;this.params=d;this.x=parseInt(f);this.y=parseInt(a);"Hub"===b.substr(0,3)?(this.size=20,this.icon_size=
16):(this.size=D,this.icon_size=C);this.ini=this.getConf(b);this.methods=this.ini.Methods;this.props={};this.dots=[];for(h in this.ini.Methods){c=this.ini.Methods[h].split("|");f=c[0];c=c[1];b=h;d=a=!1;-1!==h.indexOf("*")&&(a=!0);-1!==h.indexOf("+")&&(d=!0);if("*"===b[0]||"+"===b[0])b=b.substr(1);-1!==b.indexOf("%")&&(b.indexOf("%"),b=b.split("%")[0]);this.props[b]={hint:f,type:c,plus:d,hide:a}}if(this.ini.Type&&this.ini.Type.Sub)for(f=this.ini.Type.Sub.split(","),a=c=0,d=f.length;a<d;a++)if(b=f[a],
c++,""!==b)for(e=b.split("|"),b=this.ini.Property[e[0]].split("|"),l=this.props[e[0]]?parseInt(this.props[e[0]].value):parseInt(b[2]),b=k=1;1<=l?k<=l:k>=l;b=1<=l?++k:--k)this.props[e[1]+b]={hint:"",type:c,plus:!1,hide:!1};this.links=[];f=this.params;c=0;for(b=f.length;c<b;c++)a=f[c],"link"===a.name.substr(0,4)?(e=a.name.substr(5,a.name.length-6),e=e.replace(/\)\(/g,",").replace(/\[\(/g,"").replace(/\)\]/g,"").replace(/,\[\]/,"").split(","),a=e[0],d=e[1].split(":"),e=e.slice(2),this.links.push({start:a,
stop:d,path:e})):this.props[a.name]?(this.props[a.name].value=a.value,this.props[a.name].hide=!1):this.props[a.name]={value:a.value,hide:!1,plus:!1,hint:a.name,type:0};this.element=m.prototype.drawElement(this.size,this.icon_size,this.name,this.x,this.y,this.id);b=[0,0,0,0,0,0,0,0,0,0,0];d={"do":1,on:2,top:4,bot:3};for(h in this.props)if(k=this.props[h],!k.hide){c=parseInt(k.type);f=this.x;a=this.y;if(c===d.top||c===d.bot)f=f+b[c]*t+u,l=F,e=B,c===d.bot&&(a+=this.size);else if(c===d["do"]||c===d.on)a=
a+b[c]*t+u,l=E,e=A,c===d.on&&(f+=this.size);else continue;f=m.prototype.drawDot(l,e,f,a,h,k.hint,this.element,c);this.dots.push(f);b[c]++}m.prototype.bindElementEvents(this.element,this.props)}a.prototype.getConf=function(b){var c;c=this.config;this.conf||$.ajax({url:"delphi_utf/conf/"+b+".ini",async:!1,dataType:"text"}).success(function(b){return c=parseINIString(b)});return c};return a}();m=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}L(b,a);return b}(function(){function a(){}
a.prototype.create=function(){var b;b=Raphael("poligon",619,895);b.canvas.oncontextmenu=function(){return!1};b.canvas.onmousemove=function(b){var a;if(d.create_line)return a=d.create_line.attr("path"),d.create_line.attr("path",g.path(a[0][1],a[0][2],b.layerX,b.layerY,d.create_line.dot_type))};b.canvas.onmousedown=function(b){if(d.create_line&&3===b.which)return d.create_line.remove(),d.create_line=!1};return b};a.prototype.drawElement=function(b,a,f,r,g,e){a=d.getPaper().image("delphi/icon/"+f+".ico",
r+(b-a)/2,g+(b-a)/2,a,a);r=d.getPaper().rect(r,g,b,b,3).attr({fill:a,"fill-opacity":0.25,"stroke-width":1,stroke:"#555"});b=d.getPaper().set();b.eid=e;r.hover(function(b){q.setText(" "+f+" ");q.move(b.offsetX,b.offsetY);return q.show()},function(){return q.hide()});r.el=b;b.push(r,a);e=r.glow({color:"#0F0",width:5,opacity:0.5});return b.push(e)};a.prototype.drawDot=function(b,a,f,r,s,e,l,h){var k;e=""+s+": "+e;k=d.getPaper().circle(f,r,2.5).attr({fill:b,stroke:a,"stroke-width":1});l.push(k);k.text=
e;k.name=s;k.default_color=b;k.dot_type=h;k.el=l;k.hover(function(b){m.prototype.hover_dot_animate(this,"on");q.setText(this.text);q.move(b.offsetX,b.offsetY);q.show();if(this.link&&(this.link.attr({"stroke-width":g.active_size}),m.prototype.hover_dot_animate(this.link.dot1,"on"),this.link.dot2))return m.prototype.hover_dot_animate(this.link.dot2,"on")},function(){m.prototype.hover_dot_animate(this,"off");this.link&&(this.link.attr({"stroke-width":g.size}),m.prototype.hover_dot_animate(this.link.dot1,
"off"),this.link.dot2&&m.prototype.hover_dot_animate(this.link.dot2,"off"));return q.hide()});k.click(function(a){var c,f,e;if(this.link)return!1;if(d.create_line){c=this.dot_type;f=[0,1,-1,2,-2];if(0!==f[d.create_line.dot_type]+f[c])return!1;this.el.push(d.create_line);c=this.getBBox();f=c.x+5;c=c.y+5;e=d.create_line.attr("path");a=e[1].length-1;e[a-1][0]=f;e[a][1]=c;d.create_line.attr("path",g.path(e[0][1],e[0][2],f,c,d.create_line.dot_type));b=g.color.events;2<this.dot_type&&(b=g.color.vars);g.color.random&&
(b=w());d.create_line.attr({"stroke-dasharray":"","stroke-width":g.size,stroke:b,opacity:g.opacity});d.create_line.toBack();k.link=d.create_line;d.create_line.dot2=k;return d.create_line=!1}c=this.getBBox();f=c.x+5;c=c.y+5;e=a.layerX;a=a.layerY;d.create_line=d.getPaper().path(g.path(f,c,e,a,d.create_line.dot_type));b=g.color.new_event;d.create_line.dot_type=this.dot_type;d.create_line.dot1=k;d.create_line.el=k.el;d.create_line.start_rid=k.el[0].id;k.el.push(d.create_line);k.link=d.create_line;2<this.dot_type&&
(b=g.color.new_var);g.color.random&&(b=w());d.create_line.attr({stroke:b,"stroke-width":g.size+1,fill:"none","stroke-dasharray":"- ",opacity:g.new_link_opacity});d.create_line.hover(function(b){return this.attr({"stroke-width":g.active_size})},function(){return this.attr({"stroke-width":g.size})});return d.create_line.toBack()});return k};a.prototype.bindElementEvents=function(b,a){d.getPaper().set(b).drag(function(a,c){var d,e,l,h,k,m,q,p;this.lx=a+this.ox;this.ly=c+this.oy;if((this.pos=!this.pos)&&
!window.chrome)return!1;if("circle"!==this.type&&(this.lx=a+this.ox,this.ly=c+this.oy,b.transform("t"+this.lx+","+this.ly),this.el)){q=this.el;p=[];k=0;for(m=q.length;k<m;k++)e=q[k],"path"===e.type&&(h=e.attr("path"),l=e.old_path.length-1,e.attr("transform",""),d=1===e.dot1.dot_type||2===e.dot1.dot_type?2:1,e.start_rid!==this.id?(h[l][1]=e.old_path[l][1]+a,h[l][2]=e.old_path[l][2]+c):(h[0][1]=e.old_path[0][1]+a,h[0][2]=e.old_path[0][2]+c),h=g.path(h[0][1],h[0][2],h[l][1],h[l][2],d),p.push(e.attr({path:h})));
return p}},function(){var b,d,g,e;if("circle"!==this.type){this.animate({"fill-opacity":0.5},300,">");this.lx||(this.oy=this.ox=this.ly=this.lx=0,this.pos=!0);if(this.el)for(e=this.el,d=0,g=e.length;d<g;d++)b=e[d],"path"===b.type&&(b.old_path=b.attr("path"));return I.prototype.setProps(a)}},function(){var a,b,c,e,d,h,k,m;if("circle"!==this.type&&(this.animate({"fill-opacity":0.25},500,">"),this.ox=this.lx,this.oy=this.ly,this.el)){k=this.el;m=[];d=0;for(h=k.length;d<h;d++)e=k[d],"path"===e.type?(e.attr("path"),
a=e.dot1.getBBox(),b=e.dot2.getBBox(),c=1===e.dot1.dot_type||2===e.dot1.dot_type?2:1,m.push(e.attr("path",g.path(a.x+2.5,a.y+2.5,b.x+2.5,b.y+2.5,c)))):m.push(void 0);return m}});return b.click(function(){if("circle"!==this.type)return d.prototype.selected_element&&d.prototype.selected_element.attr("stroke","#555"),d.prototype.selected_element=this,this.attr({stroke:"yellow"})})};a.prototype.getDotPosition=function(a){return[a.attr("cx"),a.attr("cy")]};a.prototype.drawLink=function(a,c,f,r,s,e,l){var h;
h=g.color.events;"on"!==a.substr(0,2)&&"do"!==a.substr(0,2)?(h=g.color.vars,a=1):a=2;c=d.getPaper().path(g.path(c,f,r,s,a));g.color.random&&(h=w());c.attr({stroke:h,"stroke-width":g.size,fill:"none",opacity:g.opacity});c.toBack();c.hover(function(a){this.attr({"stroke-width":g.active_size});m.prototype.hover_dot_animate(this.dot1,"on");return m.prototype.hover_dot_animate(this.dot2,"on")},function(){this.attr({"stroke-width":g.size});m.prototype.hover_dot_animate(this.dot1,"off");return m.prototype.hover_dot_animate(this.dot2,
"off")});c.start_rid=e.element[0].id;e.element.push(c);l&&l.element.push(c);return c};a.prototype.hover_dot_animate=function(a,c){null==c&&(c="on");return"on"===c?a.attr({fill:"red",r:5}):a.attr({fill:a.default_color,r:2.5})};return a}());I=function(){function a(){}a.prototype.setProps=function(a){var c,f,d,g,e,l,h,k;$("#props").empty();k=[];for(e in a)c=a[e],e&&"on"!==e.substr(0,2)&&"do"!==e.substr(0,2)?(c.value&&'"'===c.value[0]&&(c.value=c.value.substr(1,c.value.length-2)),"Null()"===c.value||
void 0===c.value?c.value="":"Color"===e?c.value=parseInt(c.value)+16777201:"Icon"===c.name&&"[]"===c.value&&(c.value="[]"),d='<input type="text" value="'+c.value+'"/>',f="","Color"===e&&(c.value?(f=z[c.value].rgb,e=z[c.value].name):e=f="white",d='<select style="background-color: '+f+'"><option selected>'+e+"</option></select>"),"Font"===e&&(f={0:"",1:"checked"},h=c.value.substr(1,c.value.length-2).split(","),d=h[0],l=h[1],c=h[2],g=h[3],h=h[4],d='            <span class="font_name" style="font-family: '+
d+'">'+d+'</span>,<span class="font_size">'+l+'</span><button style="margin-left: 4px;" class="button font_selector_btn"><a href="#"> \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c </a></button>            <div class="font_selector" style="display: none;">                <div>Font: <input class="font" value="'+d+'" /></div>                <div>Size: <input type="number" class="size" value="'+l+'" /></div>                <div>Bold: <input type="checkbox" class="bold" '+f[c]+' /></div>                <div>Italic: <input type="checkbox" class="italic" '+
f[g]+' /></div>                <div>Underline: <input type="checkbox" class="underline" '+f[h]+" /></div>            </div>"),$("#props").append('<div>                               <span style="vertical-align: top;">'+e+'</span>                               <span class="value">                               '+d+"                               </span>                               </div>"),"Font"===e?($(".font").fontSelector(function(a){$(".font_name").css("font-family",a);return $(".font_name").text(a.split(",")[0])}),
$(".font_selector_btn").toggle(function(){$(this).parent().find(".font_selector").slideDown();return $(this).html('<a href="#"> \u0421\u043a\u0440\u044b\u0442\u044c </a>')},function(){$(this).parent().find(".font_selector").slideUp();return $(this).html('<a href="#">  \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c </a>')}),k.push($(".font_selector .size").bind("keyup mouseup",function(){return $(".font_size").text($(this).val())}))):k.push(void 0)):k.push(void 0);return k};return a}();w=function(){var a;
a=16777215*Math.random()<<0;a>g.min_random_color&&(a-=g.min_random_color);a="#"+a.toString(16);0!==a.length-1&&(a=a.substr(0,4));return a};d.load($("textarea#sha_viewer").val());$("#redraw").click(function(){d.clear();return d.load($("textarea#sha_viewer").val())});$.ajax({url:"https://api.github.com/repos/onefive/hion/commits/ce99c83bac202013e032cc2cf7233b305bd7fc99",type:"get",dataType:"jsonp"}).success(function(a){a=a.commit.message;return $("#last_commit").html('<a href="https://github.com/OneFive/hion/commits/master">last commit</a>: '+
a)});q=function(){function a(){}var b;b=null;a.get=function(){null==b&&(d.getPaper().setStart(),d.getPaper().rect(0,0,1,20,4).attr({fill:"khaki"}),d.getPaper().text(0,10,"").attr({fill:"black"}),b=d.getPaper().setFinish().toFront().hide());return b};a.setText=function(a){this.text=a;this.get().attr("text",a);this.get().attr("width",6*a.length);return this.get().show()};a.move=function(a,b){this.get()[0].attr("x",a+10);this.get()[0].attr("y",b-10);this.get()[1].attr("x",a+10+3*this.text.length);return this.get()[1].attr("y",
b-10+9)};a.hide=function(){return this.get().hide()};a.show=function(){return this.get().show()};return a}();document.getElementById("files").addEventListener("change",function(a){var b;a=a.target.files[0];if(-1===a.name.indexOf(".sha"))return alert("\u042d\u0442\u043e \u043d\u0435 \u0441\u0445\u0435\u043c\u0430!"),0;b=new FileReader;b.onload=function(a){return function(a){document.getElementById("sha_viewer").innerHTML=a.target.result;clearAll();return drawAll()}}(a);return b.readAsText(a,"WINDOWS-1251")},
!1);H=function(){function a(){}var b,c;b=[];c=0;a.create=function(){$.ajax({url:"delphi_utf/Elements.txt",dataType:"json"}).success(function(c){var d,g,e,l,h;g="";h=c.groups;e=0;for(l=h.length;e<l;e++)d=h[e],""!==d[1]&&(g+='<div class="group" id="g'+d[0]+'" data-id="'+d[0]+'"><div class="name">'+d[2]+'</div><div class="elements"></div></div></div>');$(".elements").append(g);b=c.elements;return a.element_panel_select(1)});a.bind_events();return!0};a.element_panel_select=function(a){var d,g,e,l;$(".elements > .group > .elements > *").slideUp().empty();
if(c===a)return c=-1,!1;g="";e=0;for(l=b.length;e<l;e++)d=b[e],d[3]===a&&(g+='<span class="el"><img data-name="'+d[1]+'" src="delphi/icon/'+d[1]+'.ico"/></span>');$("#g"+a+" > .elements").append(g).hide().slideDown();return c=a};a.bind_events=function(){$(".elements > .group").live("click",function(){return a.element_panel_select($(this).data("id"))});return $(".elements img").live("click",function(){var a,b;a=Math.round(9E6*Math.random()+1E6);b=$(this).data("name");d.addElement(b,a,350,350,{});return!1})};
return a}();$("#left_menu_min").toggle(function(){$("#left_menu").animate({left:"-=200px"});$("#conte").animate({left:"-=121px"});return $(this).animateRotate(0,90).animate({left:"-=57",top:"+=120",opacity:"-=0.3"})},function(){$("#left_menu").animate({left:"+=200px"});$("#conte").animate({left:"+=121px"});return $(this).animateRotate(90,0).animate({left:"+=57",top:"-=120",opacity:"+=0.3"})});$("#right_menu_min").toggle(function(){$(this).animateRotate(0,-90).animate({right:"-=95",top:"+=120",opacity:"-=0.3"},
"slow",function(){return $(this).animate({right:"+=50",width:"-=100"})});return $("#right_menu").animate({right:"-=250px"})},function(){return $(this).animate({width:"+=100"},100,function(){$(this).animateRotate(-90,0).animate({right:"+=45",top:"-=120",opacity:"+=0.3"});return $("#right_menu").animate({right:"+=250px"})})});H.create();z={0:{rgb:"#000000",name:"clBlack"},128:{rgb:"#800000",name:"clMaroon"},255:{rgb:"#FF0000",name:"clRed"},32768:{rgb:"#008000",name:"clGreen"},32896:{rgb:"#808000",name:"clOlive"},
65280:{rgb:"#00FF00",name:"clLime"},65535:{rgb:"#FFFF00",name:"clYellow"},8388608:{rgb:"#000080",name:"clNavy"},8388736:{rgb:"#800080",name:"clPurple"},8421376:{rgb:"#008080",name:"clTeal"},8421504:{rgb:"#808080",name:"clGray"},10789024:{rgb:"#A0A0A4",name:"clMedGray"},12632256:{rgb:"#C0C0C0",name:"clSilver"},12639424:{rgb:"#C0DCC0",name:"clMoneyGreen"},15780518:{rgb:"#A6CAF0",name:"clSkyBlue"},15793151:{rgb:"#FFFBF0",name:"clCream"},16711680:{rgb:"#0000FF",name:"clBlue"},16711935:{rgb:"#FF00FF",
name:"clFuchsia"},16776960:{rgb:"#00FFFF",name:"clAqua"},16777215:{rgb:"#FFFFFF",name:"clWhite"},"R,G,B":{name:"###"},"-16777206":{rgb:"#B4B4B4",name:"clActiveBorder"},"-16777214":{rgb:"#99B4D1",name:"clActiveCaption"},"-16777204":{rgb:"#ABABAB",name:"clAppWorkSpace"},"-16777215":{rgb:"#000000",name:"clBackground"},"-16777201":{rgb:"#F0F0F0",name:"clBtnFace"},"-16777196":{rgb:"#FFFFFF",name:"clBtnHighlight"},"-16777200":{rgb:"#A0A0A0",name:"clBtnShadow"},"-16777198":{rgb:"#000000",name:"clBtnText"},
"-16777207":{rgb:"#000000",name:"clCaptionText"},"-16777189":{rgb:"#B9D1EA",name:"clGradientActiveCaption"},"-16777188":{rgb:"#D7E4F2",name:"clGradientInactiveCaption"},"-16777199":{rgb:"#6D6D6D",name:"clGrayText"},"-16777203":{rgb:"#3399FF",name:"clHighlight"},"-16777202":{rgb:"#FFFFFF",name:"clHighlightText"},"-16777190":{rgb:"#0066CC",name:"clHotLight"},"-16777205":{rgb:"#F4F7FC",name:"clInactiveBorder"},"-16777213":{rgb:"#BFCDDB",name:"clInactiveCaption"},"-16777197":{rgb:"#434E54",name:"clInactiveCaptionText"},
"-16777192":{rgb:"#FFFFE1",name:"clInfoBk"},"-16777193":{rgb:"#000000",name:"clInfoText"},"-16777212":{rgb:"#F0F0F0",name:"clMenu"},"-16777186":{rgb:"#F0F0F0",name:"clMenuBar"},"-16777187":{rgb:"#3399FF",name:"clMenuHighlight"},"-16777209":{rgb:"#000000",name:"clMenuText"},"-16777216":{rgb:"#C8C8C8",name:"clScrollBar"},"-16777195":{rgb:"#696969",name:"cl3DDkShadow"},"-16777194":{rgb:"#E3E3E3",name:"cl3DLight"},"-16777211":{rgb:"#FFFFFF",name:"clWindow"},"-16777210":{rgb:"#646464",name:"clWindowFrame"},
"-16777208":{rgb:"#000000",name:"clWindowText"}};$.fn.animateRotate=function(a,b,c,d,g){return this.each(function(){var m=$(this);$({deg:a}).animate({deg:b},{duration:c,easing:d,step:function(a){m.css({transform:"rotate("+a+"deg)"})},complete:g||$.noop})})};jQuery.fn.fontSelector=function(a){var b="Arial,Arial,Helvetica,sans-serif;Arial Black,Arial Black,Gadget,sans-serif;Comic Sans MS,Comic Sans MS,cursive;Courier New,Courier New,Courier,monospace;Georgia,Georgia,serif;Impact,Charcoal,sans-serif;Lucida Console,Monaco,monospace;Lucida Sans Unicode,Lucida Grande,sans-serif;Palatino Linotype,Book Antiqua,Palatino,serif;Tahoma,Geneva,sans-serif;Times New Roman,Times,serif;Trebuchet MS,Helvetica,sans-serif;Verdana,Geneva,sans-serif".split(";");
$("body").click(function(){$(".fontselector").hide()});return this.each(function(){var c=this,d=$('<ul class="fontselector" style="z-index: 500000"></ul>');$("body").prepend(d);$(d).hide();jQuery.each(b,function(g,m){$(d).append('<li><a href="#" class="font_'+g+'" style="font-family: '+m+'">'+m.split(",")[0]+"</a></li>");$(c).click(function(a){a.preventDefault();$(d).show();$(d).css({top:$(c).offset().top+$(c).height()+4,left:$(c).offset().left});$(this).blur();return!1});$(d).find("a").click(function(e){e.stopPropagation();
e=b[$(this).attr("class").split("_")[1]];$(c).val(e);$(d).hide();a&&a(e);return!1})})})}}).call(this);
